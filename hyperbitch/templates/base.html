{% from 'bootstrap5/nav.html' import render_nav_item %}
{% from 'bootstrap5/utils.html' import render_icon %}
{% from 'bootstrap5/utils.html' import render_messages %}
<!doctype html>
<html lang="en">
    <head>
        {% block head %}
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        {% block styles %}
            <!-- Bootstrap CDN CSS -->
            {{ bootstrap.load_css() }}
            <!-- Other CDN CSS -->
            <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
            <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css' rel='stylesheet' />
            <!-- Local CSS -->
            <link rel="stylesheet" href="/static/sidebars.css" />
        {% endblock %}

        <title>{% block title %}{% endblock %} üòÅ HyperBitch</title>
        {% endblock %}
    </head>
    <body>
      <main>

        <!-- Sidebar -->
        <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark" style="width: 300px;">
          <a href="{{ url_for('home') }}" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
            <span class="fs-4">
              {{ render_icon("person-workspace", color="white") }}
              HyperBitch
            </span>
          </a>
          <hr>
          <ul class="nav nav-pills flex-column mb-auto">
            <li>
              <a href="{{ url_for('dashboard') }}" class="nav-link {% block sidebar_dashboard %}{% endblock %}">
                {{ render_icon("speedometer2", color="white") }}
                {{ _('Dashboard') }}
              </a>
            </li>
            <li>
              <a href="{{ url_for('add_task') }}" class="nav-link {% block sidebar_task %}{% endblock %}">
                {{ render_icon("speedometer2", color="white") }}
                {{ _('Add a task') }}
              </a>
            </li>
          </ul>
          <hr>
          <div id='calendar'></div>
          <hr>
          <div class="dropdown">
            <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
              {{ render_icon("person-workspace", color="white") }}
              <strong>{{ current_user.email }}</strong>
            </a>
            <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
              <li><a class="dropdown-item" href="#">New project...</a></li>
              <li><a class="dropdown-item" href="#">Settings</a></li>
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Sign out</a></li>
            </ul>
          </div>
        </div>

        <!-- Page content -->
        <div id="content">
          <div class="d-flex flex-column flex-shrink-0 p-3 text-dark bg-white">
            {% block content %}{% endblock %}
          </div>
        </div>
      </main>

        {% block scripts %}
            <!-- JavaScript -->
            {{ bootstrap.load_js() }}
            <script src="/static/sidebars.js" type="text/javascript"></script>
            <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js'></script>
            <script>
              var calendarEl = document.getElementById('calendar');
              var calendar = new FullCalendar.Calendar(calendarEl, {
                              themeSystem: 'bootstrap5',
                              headerToolbar: {
                                              start: 'title',
                                              center: '',
                                              end: ''
                                             },
                              contentHeight: 444,
              });
              calendar.render();
            </script>
        {% endblock %}
    </body>
</html>
